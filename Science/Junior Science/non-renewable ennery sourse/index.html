<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HK Energy Engineer Academy</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Icons (FontAwesome) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Space Grotesk', sans-serif; }
        
        /* Custom Animations */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        .float-anim { animation: float 3s ease-in-out infinite; }
        
        @keyframes spin-turbine {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        /* Shared class for spinning elements */
        .spinning { animation: spin-turbine 0.5s linear infinite; }
        
        @keyframes steam-rise {
            0% { opacity: 0; transform: translateY(0) scale(1); }
            50% { opacity: 0.8; }
            100% { opacity: 0; transform: translateY(-40px) scale(2); }
        }
        
        /* New Animation for the Shaft */
        @keyframes shaft-spin-anim {
            from { background-position: 0 0; }
            to { background-position: 20px 0; }
        }
        .shaft-spinning {
            /* Creates a moving striped pattern to simulate rotation */
            background-image: repeating-linear-gradient(
                -45deg,
                #475569,
                #475569 5px,
                #64748b 5px,
                #64748b 10px
            );
            background-size: 20px 20px;
            animation: shaft-spin-anim 0.5s linear infinite;
        }

        .steam-particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 50%;
            animation: steam-rise 2s infinite;
        }

        /* Glassmorphism */
        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
    </style>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        coal: '#2d3436',
                        oil: '#636e72',
                        gas: '#0984e3',
                        fire: '#e17055',
                        elec: '#f1c40f'
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-slate-900 text-white min-h-screen">

    <!-- 1. NAVBAR -->
    <nav class="bg-slate-800 border-b border-slate-700 p-4 sticky top-0 z-50">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex items-center gap-3">
                <div class="bg-elec text-slate-900 p-2 rounded-lg font-bold">
                    <i class="fa-solid fa-bolt"></i> HK-EEA
                </div>
                <span class="font-bold hidden md:inline">HK Energy Engineer Academy</span>
            </div>
            <div class="flex gap-4 text-sm">
                <div class="flex items-center gap-2">
                    <span class="text-slate-400">Status:</span>
                    <span class="text-green-400 font-bold">‚óè System Online</span>
                </div>
            </div>
        </div>
    </nav>

    <!-- 2. HERO SECTION -->
    <header class="container mx-auto px-4 py-12 text-center">
        <div class="inline-block bg-slate-700 px-4 py-1 rounded-full text-xs font-bold tracking-widest text-elec mb-4 uppercase">
            Form 1 Integrated Science Module
        </div>
        <h1 class="text-4xl md:text-6xl font-bold mb-6">Non-Renewable Energy</h1>
        <p class="text-xl text-slate-300 max-w-2xl mx-auto mb-8">
            Welcome, Trainee. Your mission is to understand the fuels that power Hong Kong and how we turn them into electricity.
        </p>
        <div class="flex justify-center gap-4">
            <a href="#database" class="bg-slate-700 hover:bg-slate-600 px-6 py-3 rounded-lg font-bold transition">
                <i class="fa-solid fa-book-open mr-2"></i> Access Database
            </a>
            <a href="#simulator" class="bg-elec text-slate-900 hover:bg-yellow-400 px-6 py-3 rounded-lg font-bold transition float-anim">
                <i class="fa-solid fa-play mr-2"></i> Start Simulator
            </a>
        </div>
    </header>

    <main class="container mx-auto px-4 pb-20">

        <!-- 3. FUEL DATABASE (Cards) -->
        <section id="database" class="mb-24">
            <h2 class="text-2xl font-bold mb-8 border-l-4 border-elec pl-4">Restricted Access: Fuel Database</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- COAL CARD -->
                <div class="bg-slate-800 rounded-xl p-6 border border-slate-700 hover:border-slate-500 transition group">
                    <div class="h-16 w-16 bg-coal rounded-full flex items-center justify-center text-3xl mb-4 group-hover:scale-110 transition">
                        ü™®
                    </div>
                    <h3 class="text-xl font-bold mb-2 text-white">Coal</h3>
                    <div class="text-xs font-mono text-slate-400 mb-4">STATE: SOLID</div>
                    <p class="text-slate-300 text-sm mb-4">
                        Ancient plants turned into rock by pressure. It is cheap but burns "dirty" (creates lots of smoke and ash).
                    </p>
                    <div class="bg-slate-900/50 p-3 rounded text-xs text-red-400">
                        <i class="fa-solid fa-triangle-exclamation mr-1"></i> Highest CO‚ÇÇ Emissions
                    </div>
                </div>

                <!-- OIL CARD -->
                <div class="bg-slate-800 rounded-xl p-6 border border-slate-700 hover:border-slate-500 transition group">
                    <div class="h-16 w-16 bg-oil rounded-full flex items-center justify-center text-3xl mb-4 group-hover:scale-110 transition">
                        üõ¢Ô∏è
                    </div>
                    <h3 class="text-xl font-bold mb-2 text-white">Oil (Petroleum)</h3>
                    <div class="text-xs font-mono text-slate-400 mb-4">STATE: LIQUID</div>
                    <p class="text-slate-300 text-sm mb-4">
                        Ancient sea creatures turned into black liquid. Mainly used for transport (cars, ships, planes), not electricity.
                    </p>
                    <div class="bg-slate-900/50 p-3 rounded text-xs text-orange-400">
                        <i class="fa-solid fa-triangle-exclamation mr-1"></i> Risk of Ocean Spills
                    </div>
                </div>

                <!-- GAS CARD -->
                <div class="bg-slate-800 rounded-xl p-6 border border-slate-700 hover:border-blue-500 transition group">
                    <div class="h-16 w-16 bg-gas rounded-full flex items-center justify-center text-3xl mb-4 group-hover:scale-110 transition">
                        üí®
                    </div>
                    <h3 class="text-xl font-bold mb-2 text-white">Natural Gas</h3>
                    <div class="text-xs font-mono text-slate-400 mb-4">STATE: GAS</div>
                    <p class="text-slate-300 text-sm mb-4">
                        Invisible gas found underground. Hong Kong uses this the most because it is cleaner than Coal.
                    </p>
                    <div class="bg-slate-900/50 p-3 rounded text-xs text-green-400">
                        <i class="fa-solid fa-check mr-1"></i> Cleaner Burning
                    </div>
                </div>
            </div>
        </section>

        <!-- 4. INTERACTIVE SIMULATOR -->
        <section id="simulator" class="mb-24">
            <h2 class="text-2xl font-bold mb-8 border-l-4 border-elec pl-4">Training Module: The Power Plant</h2>
            <p class="text-slate-400 mb-6">Instruction: Keep clicking the "Add Fuel" button to heat the water and spin the turbine!</p>

            <div class="bg-slate-800 rounded-2xl p-4 md:p-8 border border-slate-600 relative overflow-hidden">
                <!-- Dashboard UI -->
                <div class="flex justify-between items-center mb-8 bg-slate-900 p-4 rounded-lg">
                    <div class="text-center">
                        <div class="text-xs text-slate-500 font-mono">HEAT LEVEL</div>
                        <div id="temp-display" class="text-2xl font-bold text-fire">0¬∞C</div>
                    </div>
                    <div class="text-center">
                        <div class="text-xs text-slate-500 font-mono">OUTPUT</div>
                        <div id="output-display" class="text-2xl font-bold text-elec">0 MW</div>
                    </div>
                </div>

                <!-- The Visual Machine -->
                <div class="relative h-64 md:h-80 bg-slate-900 rounded-xl border border-slate-700 w-full overflow-hidden">
                    
                    <!-- 1. Furnace (Left) -->
                    <div class="absolute left-4 md:left-10 bottom-10 w-16 md:w-24 h-32 bg-slate-700 rounded-t-lg border-2 border-slate-500 flex flex-col justify-end items-center p-2 z-10">
                        <div id="fire" class="w-full h-0 bg-gradient-to-t from-red-600 to-yellow-400 transition-all duration-300 rounded opacity-80"></div>
                        <span class="absolute -bottom-8 text-xs font-bold">BOILER</span>
                    </div>

                    <!-- Pipe -->
                    <div class="absolute left-20 md:left-32 top-1/2 w-20 md:w-32 h-4 bg-slate-600 z-0 transform -translate-y-1/2">
                        <div id="steam-flow" class="w-0 h-full bg-white opacity-50 transition-all duration-300"></div>
                    </div>

                    <!-- 2. Turbine (Center Left) -->
                    <div class="absolute left-1/3 top-1/2 transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center z-10">
                        <div class="relative w-24 h-24 md:w-32 md:h-32 bg-slate-700 rounded-full border-4 border-slate-500 flex items-center justify-center bg-slate-800 shadow-xl">
                            <i id="turbine-blade" class="fa-solid fa-fan text-4xl md:text-6xl text-slate-400"></i>
                        </div>
                        <span class="mt-2 text-xs font-bold bg-slate-800 px-2 py-1 rounded border border-slate-600">TURBINE</span>
                    </div>

                    <!-- Shaft Connection (Connects Turbine to Generator) -->
                    <div class="absolute left-1/3 top-1/2 w-1/3 z-0 transform -translate-y-1/2 flex flex-col items-center">
                        <!-- Label -->
                        <span class="text-[10px] text-slate-400 font-mono tracking-widest mb-1">DRIVE SHAFT</span>
                        <!-- The Shaft Itself -->
                        <div id="drive-shaft" class="w-full h-4 bg-slate-600 border-y-2 border-slate-500 relative overflow-hidden shadow-inner">
                            <!-- This div gets the animation class -->
                        </div>
                    </div>

                    <!-- 3. Generator (Center Right) - NEW VISUAL -->
                    <div class="absolute left-2/3 top-1/2 transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center z-10">
                        <div class="relative w-20 h-20 md:w-24 md:h-24 bg-slate-800 rounded-lg border-2 border-slate-500 flex items-center justify-center overflow-hidden shadow-inner group">
                            <!-- Copper Coils (Static Stator) -->
                            <div class="absolute inset-1 border-4 border-orange-700 rounded opacity-60"></div>
                            <div class="absolute top-2 w-full h-1 bg-orange-500 opacity-80"></div>
                            <div class="absolute bottom-2 w-full h-1 bg-orange-500 opacity-80"></div>
                            
                            <!-- Spinning Magnet (Rotor) -->
                            <div id="magnet" class="w-14 h-4 bg-gradient-to-r from-red-600 via-slate-300 to-blue-600 rounded shadow-md z-20"></div>
                            
                            <!-- Label -->
                            <div class="absolute text-[8px] text-slate-400 top-1 font-mono">COIL</div>
                        </div>
                        <span class="mt-2 text-xs font-bold">GENERATOR</span>
                    </div>

                    <!-- Wire Connection (Updated to not float) -->
                    <!-- Spans from Generator (left-2/3) to Bulb area (right-4/right-10) -->
                    <div class="absolute left-2/3 right-4 md:right-10 top-1/2 h-2 bg-yellow-600 z-0 transform -translate-y-1/2 border-y border-yellow-700"></div>

                    <!-- 4. Lightbulb (Right) -->
                    <div class="absolute right-4 md:right-10 bottom-1/2 transform translate-y-1/2 flex flex-col items-center z-10">
                        <i id="bulb" class="fa-solid fa-lightbulb text-4xl md:text-6xl text-slate-600 transition-all duration-300 bg-slate-900 rounded-full p-2 border-4 border-slate-800"></i>
                        <span class="mt-4 text-xs font-bold">ELECTRICITY</span>
                    </div>

                    <!-- Floating Steam Particles (JS Generated) -->
                    <div id="steam-container" class="absolute inset-0 pointer-events-none"></div>
                </div>

                <!-- Explanation Box (New) -->
                <div class="mt-4 bg-slate-900/50 p-4 rounded-lg border border-slate-700 flex items-center gap-4">
                    <div class="text-3xl bg-slate-800 p-2 rounded-lg">üß≤</div>
                    <div>
                        <h4 class="font-bold text-white text-sm">How does it generate electricity?</h4>
                        <p class="text-xs text-slate-300">
                            The Turbine spins a <strong>Magnet</strong> inside a <strong>Copper Coil</strong>. 
                            This moving magnetic field pushes electrons through the wire. This is called <span class="text-elec font-bold">Electromagnetic Induction</span>.
                        </p>
                    </div>
                </div>

                <!-- Controls -->
                <div class="mt-6 flex justify-center gap-4">
                    <button onclick="addFuel()" class="bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-500 hover:to-red-500 text-white font-bold py-4 px-8 rounded-xl shadow-lg transform active:scale-95 transition flex items-center gap-3">
                        <i class="fa-solid fa-fire"></i> BURN FUEL
                    </button>
                </div>
                <div class="text-center mt-4 text-xs text-slate-500 font-mono">
                    System Logic: Chemical Energy -> Heat -> Kinetic -> Electrical
                </div>
            </div>
        </section>

        <!-- 5. HK CONTEXT SECTION -->
        <section class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-24">
            <div class="bg-gradient-to-br from-blue-900 to-slate-900 p-8 rounded-2xl border border-blue-800">
                <h3 class="text-2xl font-bold mb-4 flex items-center gap-2">
                    <i class="fa-solid fa-earth-asia"></i> The Hong Kong Problem
                </h3>
                <p class="text-slate-300 mb-6 leading-relaxed">
                    Hong Kong has <strong>0%</strong> natural resources. We buy all our fuel from other countries.
                </p>
                <div class="space-y-4">
                    <div class="bg-slate-800/50 p-4 rounded-lg flex items-center justify-between">
                        <span>Electricity Cost</span>
                        <div class="h-2 w-24 bg-slate-700 rounded-full overflow-hidden">
                            <div class="h-full bg-red-500 w-[80%]"></div>
                        </div>
                    </div>
                    <div class="bg-slate-800/50 p-4 rounded-lg flex items-center justify-between">
                        <span>Pollution Level</span>
                        <div class="h-2 w-24 bg-slate-700 rounded-full overflow-hidden">
                            <div class="h-full bg-orange-500 w-[60%]"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-slate-800 p-8 rounded-2xl border border-slate-700">
                <h3 class="text-2xl font-bold mb-4">Did you know?</h3>
                <ul class="space-y-4 text-slate-300">
                    <li class="flex items-start gap-3">
                        <i class="fa-solid fa-check-circle text-elec mt-1"></i>
                        <span><strong>HK Electric (Lamma Island)</strong> uses mostly Gas & Coal.</span>
                    </li>
                    <li class="flex items-start gap-3">
                        <i class="fa-solid fa-check-circle text-elec mt-1"></i>
                        <span><strong>CLP (Castle Peak)</strong> uses Coal, Gas, and imports Nuclear from China.</span>
                    </li>
                    <li class="flex items-start gap-3">
                        <i class="fa-solid fa-check-circle text-elec mt-1"></i>
                        <span>Coal is slowly being banned to stop air pollution.</span>
                    </li>
                </ul>
            </div>
        </section>

        <!-- 6. FINAL QUIZ -->
        <section class="max-w-2xl mx-auto">
            <div class="bg-slate-800 rounded-2xl p-8 border border-slate-600 shadow-2xl">
                <div class="flex items-center gap-3 mb-6">
                    <div class="bg-green-500 text-slate-900 w-8 h-8 rounded-full flex items-center justify-center font-bold">?</div>
                    <h2 class="text-2xl font-bold">Certification Exam</h2>
                </div>
                
                <div id="quiz-area" class="space-y-6">
                    <!-- Q1 -->
                    <div>
                        <p class="font-bold mb-3">1. Which energy change happens inside the Generator?</p>
                        <div class="grid grid-cols-1 gap-2">
                            <button onclick="check(this, false)" class="text-left p-3 rounded bg-slate-700 hover:bg-slate-600 transition">Heat ‚Üí Light</button>
                            <button onclick="check(this, true)" class="text-left p-3 rounded bg-slate-700 hover:bg-slate-600 transition">Kinetic (Movement) ‚Üí Electrical</button>
                        </div>
                    </div>

                    <!-- Q2 -->
                    <div>
                        <p class="font-bold mb-3">2. Why is Hong Kong switching from Coal to Natural Gas?</p>
                        <div class="grid grid-cols-1 gap-2">
                            <button onclick="check(this, false)" class="text-left p-3 rounded bg-slate-700 hover:bg-slate-600 transition">Because Coal is too expensive.</button>
                            <button onclick="check(this, true)" class="text-left p-3 rounded bg-slate-700 hover:bg-slate-600 transition">Because Gas creates less smoke and pollution.</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-slate-900 border-t border-slate-800 text-center py-8 text-slate-500 text-sm">
        <p>HK Energy Engineer Academy | F1 Integrated Science</p>
        <p class="mt-2 text-xs">Built with Tailwind & JS</p>
    </footer>

    <!-- LOGIC -->
    <script>
        // --- SIMULATOR LOGIC ---
        let temperature = 0;
        let isRunning = false;
        
        const tempDisplay = document.getElementById('temp-display');
        const outDisplay = document.getElementById('output-display');
        const fire = document.getElementById('fire');
        const turbine = document.getElementById('turbine-blade');
        const magnet = document.getElementById('magnet'); 
        const bulb = document.getElementById('bulb');
        const steamFlow = document.getElementById('steam-flow');
        const shaft = document.getElementById('drive-shaft'); // New Reference

        // Main Loop to cool down the system
        setInterval(() => {
            if (temperature > 0) {
                temperature -= 2; // Cool down
                if(temperature < 0) temperature = 0;
                updateSystem();
            }
        }, 100);

        function addFuel() {
            temperature += 15; // Heat up
            if (temperature > 100) temperature = 100;
            createSteamParticle();
            updateSystem();
        }

        function updateSystem() {
            // Update Text
            tempDisplay.innerText = Math.round(temperature) + "¬∞C";
            tempDisplay.style.color = temperature > 80 ? '#ff7675' : '#e17055';

            // Visual Fire Height
            fire.style.height = temperature + "%";

            // Steam Pipe
            if (temperature > 30) {
                steamFlow.style.width = "100%";
            } else {
                steamFlow.style.width = "0%";
            }

            // Turbine Spin
            if (temperature > 40) {
                const speed = 105 - temperature;
                const animStyle = `spin-turbine ${speed}0ms linear infinite`;
                
                turbine.style.animation = animStyle;
                magnet.style.animation = animStyle; 
                
                // Animate Shaft
                shaft.classList.add('shaft-spinning');
                shaft.style.animationDuration = `${speed * 2}ms`; // Sync speed roughly

                outDisplay.innerText = Math.round(temperature * 5) + " MW";
            } else {
                turbine.style.animation = 'none';
                magnet.style.animation = 'none';
                shaft.classList.remove('shaft-spinning'); // Stop shaft
                outDisplay.innerText = "0 MW";
            }

            // Bulb Brightness
            if (temperature > 50) {
                bulb.classList.remove('text-slate-600');
                bulb.classList.add('text-elec');
                bulb.style.filter = `drop-shadow(0 0 ${temperature/2}px #f1c40f)`;
            } else {
                bulb.classList.add('text-slate-600');
                bulb.classList.remove('text-elec');
                bulb.style.filter = 'none';
            }
        }

        function createSteamParticle() {
            const container = document.getElementById('steam-container');
            const p = document.createElement('div');
            p.classList.add('steam-particle');
            
            // Random position near boiler
            const leftPos = 20 + Math.random() * 40;
            p.style.left = leftPos + "px";
            p.style.bottom = "80px";
            p.style.width = (5 + Math.random() * 10) + "px";
            p.style.height = p.style.width;

            container.appendChild(p);

            // Clean up
            setTimeout(() => {
                p.remove();
            }, 2000);
        }

        // --- QUIZ LOGIC ---
        function check(btn, isCorrect) {
            // Disable all buttons in this question group
            const parent = btn.parentElement;
            const allBtns = parent.querySelectorAll('button');
            allBtns.forEach(b => b.disabled = true);

            if (isCorrect) {
                btn.classList.remove('bg-slate-700');
                btn.classList.add('bg-green-600', 'text-white', 'border', 'border-green-400');
                btn.innerHTML += ' <i class="fa-solid fa-check ml-2"></i>';
            } else {
                btn.classList.remove('bg-slate-700');
                btn.classList.add('bg-red-600', 'text-white', 'opacity-50');
                btn.innerHTML += ' <i class="fa-solid fa-xmark ml-2"></i>';
                
                // Highlight the correct one automatically
                allBtns.forEach(b => {
                    if (b.onclick.toString().includes('true')) {
                        b.classList.remove('bg-slate-700');
                        b.classList.add('bg-green-600', 'text-white');
                    }
                });
            }
        }
    </script>
</body>
</html>